(window.webpackJsonp=window.webpackJsonp||[]).push([[3],[,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0);(n=s)&&n.__esModule;var r=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.box=e,this.customWidth=i,this.customHeight=n,this.width=i||e.offsetWidth,this.height=n||e.offsetHeight,this.max=Math.max(this.width,this.height),this.cx=this.max/2,this.cy=this.max/2,this.cpoint={x:this.cx,y:this.cy},this.totalAngle=360,this.angleOffset=0,this.countAngle=0,this.colors=["#f12575","#da432e","#f3a42d","#19af89","#24a3ea","#b56be8"]}return a(t,[{key:"update",value:function(t){return this.data=t,this}},{key:"init",value:function(){return this}},{key:"setOptions",value:function(t){for(var e in t)this[e]=t[e];this.options=t}},{key:"calcLayoutPosition",value:function(){return this}},{key:"calcDataPosition",value:function(){return this}},{key:"initDataLayout",value:function(){return this}},{key:"draw",value:function(){return this}},{key:"reset",value:function(){}},{key:"animation",value:function(){}},{key:"layer",value:function(){return this.layer}},{key:"setLayer",value:function(t){return this.layer=t,this}},{key:"setStage",value:function(t){this.stage=t}}]),t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true}),e.pointRectangleIntersection=function(t,e){return t.x>=e.x&&t.x<=e.x2&&t.y>=e.y&&t.y<=e.y2},e.pointDistance=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},e.distanceAngleToPoint=function(t,e){var i=e*Math.PI/180;return{x:Math.cos(i)*t,y:Math.sin(i)*t}},e.radians=function(t){return t*Math.PI/180},e.degree=function(t){return t/Math.PI*180},e.intersectRect=function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},e.fixEndAngle=function(t,e){e<t&&(e+=360);return e},e.pointPlus=function(t,e){return{x:t.x+e.x,y:t.y+e.y}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true}),e.parseFinance=function(t,e){return t=parseFloat(t)||0,void 0===e&&(e=2),t&&(t=parseFloat(t.toFixed(e))),t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=o(i(0)),s=o(i(1)),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(3));function o(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e,this.height=i,this.point=n,this.cx=this.width/2,this.cy=this.height/2,this.offsetX=20,this.offsetY=20,this.colors=["#f12575","#da432e","#f3a42d","#19af89","#24a3ea","#b56be8"],this.init()}return n(t,[{key:"setDebug",value:function(t){this.stage=t,this.layer=new a.default.Layer;var e=0;for(var i in this.rects){var n=this.rects[i],r=s.default.clone(n);r.fill=this.colors[e%this.colors.length];var o=new a.default.Rect(r);this.layer.add(o),e++}this.stage.add(this.layer)}},{key:"init",value:function(){this.leftTop={x:0,y:0,width:this.cx+this.offsetX,height:this.cy+this.offsetY},this.leftTop.x2=this.leftTop.x+this.leftTop.width,this.leftTop.y2=this.leftTop.y+this.leftTop.height,this.rightTop={x:this.cx-this.offsetX,y:0,width:this.cx+this.offsetX,height:this.cy+this.offsetY},this.rightTop.x2=this.rightTop.x+this.rightTop.width,this.rightTop.y2=this.rightTop.y+this.rightTop.height,this.leftBottom={x:0,y:this.cy-this.offsetY,width:this.cx+this.offsetX,height:this.cy+this.offsetY},this.leftBottom.x2=this.leftBottom.x+this.leftBottom.width,this.leftBottom.y2=this.leftBottom.y+this.leftBottom.height,this.rightBottom={x:this.cx-this.offsetX,y:this.cy-this.offsetY,width:this.cx+this.offsetX,height:this.cy+this.offsetY},this.rightBottom.x2=this.rightBottom.x+this.rightBottom.width,this.rightBottom.y2=this.rightBottom.y+this.rightBottom.height,this.rects={leftTop:this.leftTop,rightTop:this.rightTop,leftBottom:this.leftBottom,rightBottom:this.rightBottom}}},{key:"isLeftTop",value:function(){return r.pointRectangleIntersection(this.point,this.leftTop)?1:0}},{key:"isRightTop",value:function(){return r.pointRectangleIntersection(this.point,this.rightTop)?2:0}},{key:"isRightBottom",value:function(){return r.pointRectangleIntersection(this.point,this.rightBottom)?4:0}},{key:"isLeftBottom",value:function(){return r.pointRectangleIntersection(this.point,this.leftBottom)?8:0}},{key:"auto",value:function(){return this.isLeftTop()+this.isRightTop()+this.isRightBottom()+this.isLeftBottom()}}]),t}();e.default=h,h.DIRE_NAME={leftTop:1,rightTop:2,rightBottom:4,leftBottom:8,topCenter:3,rightMid:6,bottomCenter:12,leftMid:9},h.DIRE_NUM={1:"leftTop",2:"rightTop",4:"rightBottom",8:"leftBottom",3:"topCenter",6:"rightMid",9:"leftMid",12:"bottomCenter"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=o(i(2)),s=(r(i(3)),o(i(0)));o(i(1)),r(i(4));function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return a.name="IconRound "+Date.now(),a.outRadius=6,a.inRadius=2,a.color="#ffffff",a.max=1.1,a.min=.8,a.step=.006,a.cur=1,a.isplus=1,a.init(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),n(e,[{key:"init",value:function(){return this}},{key:"update",value:function(t){this.point=t,this.group=new s.default.Group({x:this.point.x+this.cx,y:this.point.y+this.cy,width:2*this.outRadius,height:2*this.outRadius}),this.circle=new s.default.Circle({radius:this.inRadius,fill:this.color,stroke:this.color,x:0,y:0}),this.outcircle=new s.default.Circle({radius:this.outRadius,fill:"#ffffff00",stroke:this.color,strokeWidth:1,x:0,y:0}),this.group.add(this.circle),this.group.add(this.outcircle),this.group.scale({x:this.cur,y:this.cur}),this.layer.add(this.group)}},{key:"reset",value:function(){}},{key:"animation",value:function(){var t=this;this.plus?(this.cur=this.cur+this.step,this.cur>this.max&&(this.cur=this.max,this.plus=0)):(this.cur=this.cur-this.step,this.cur<this.min&&(this.cur=this.min,this.plus=1)),this.group.scale({x:this.cur,y:this.cur}),this.stage.add(this.layer),window.requestAnimationFrame(function(){t.animation()})}},{key:"initDataLayout",value:function(){}},{key:"calcDataPosition",value:function(){}},{key:"animationLine",value:function(){}},{key:"calcLayoutPosition",value:function(){}}]),e}();e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=l(i(2)),s=l(i(9)),r=l(i(10)),o=l(i(0)),h=l(i(1)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(11));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return a.ins=[],a.images=[],a.rateWidth=330,a.rateHeight=330,a.init(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),n(e,[{key:"init",value:function(){if(this.box)return this.stage=new o.default.Stage({container:this.box,width:this.width,height:this.height}),this.customWidth&&(this.box.style.width=this.customWidth+"px"),this.customHeight&&(this.box.style.height=this.customHeight+"px"),this}},{key:"update",value:function(t){var e=this;if(this.data=t,this.loadImage(),h.default.jsonInData(this.data,"series"))return this.stage.removeChildren(),this.data.series.map(function(t,i){var n=void 0;switch(t.type){case u.CHART_TYPE.dount:n=new s.default(e.box,e.width,e.height),e.options&&n.setOptions(e.options),n.setStage(e.stage),n.update(h.default.clone(t),h.default.clone(e.data));break;case u.CHART_TYPE.gauge:n=new r.default(e.box,e.width,e.height),e.options&&n.setOptions(e.options),n.setStage(e.stage),n.update(h.default.clone(t),h.default.clone(e.data))}n&&e.ins.push(n)}),this}},{key:"addImage",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=this.width/this.rateWidth,r=this.height/this.rateHeight;return this.images.push({url:t,width:e*s,height:i*r,offsetX:n,offsetY:a}),this}},{key:"loadImage",value:function(){var t=this;return this.iconLayer&&this.iconLayer.remove(),this.iconLayer=new o.default.Layer,this.images.map(function(e){var i=new Image;i.onload=function(){var n=e.width||i.width,a=e.height||i.height,s=new o.default.Image({image:i,x:t.cx-n/2+e.offsetX,y:t.cy-a/2+e.offsetY,width:n,height:a});t.iconLayer.add(s),t.stage.add(t.iconLayer)},i.src=e.url}),this}}]),e}();e.default=c},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=f(i(2)),s=c(i(3)),r=f(i(5)),o=f(i(0)),h=f(i(1)),u=c(i(4)),l=f(i(6));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return a.name="Dount "+Date.now(),a.outPercent=.53,a.inPercent=.37,a.circleLinePercent=.34,a.circlePercent=.31,a.animationStep=8,a.angleStep=5,a.textHeight=26,a.lineOffset=40,a.path=[],a.textOffset=4,a.lineColor="#24a3ea",a.init(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),n(e,[{key:"init",value:function(){return this.calcLayoutPosition(),this}},{key:"update",value:function(t,e){if(this.data=t,this.allData=e,h.default.jsonInData(this.data,"data"))return this.calcDataPosition(),this.initDataLayout(),this.animation(),this}},{key:"reset",value:function(){this.path.map(function(t){t.pathData=[]})}},{key:"animation",value:function(){var t=this;if(!this.isDone){var e=void 0,i=this.angleStep;this.countAngle+=this.animationStep,this.countAngle>=this.totalAngle&&(this.countAngle=this.totalAngle,this.isDone=1),this.reset();for(var n=this.path.length-1;n>=0;n--){var a=this.path[n],r=this.countAngle;if(r>=a.itemData.endAngle&&(r=a.itemData.endAngle),!(r<a.itemData.startAngle)){a.pathData.push("M");for(var o=a.itemData.startAngle;o>=r&&(o=r),e=s.distanceAngleToPoint(this.outRadius,o),a.pathData.push([e.x,e.y].join(",")+","),o==a.itemData.startAngle&&a.pathData.push("L"),!(o>=r);o+=i);for(var h=r;h<=a.itemData.startAngle&&(h=a.itemData.startAngle),e=s.distanceAngleToPoint(this.inRadius,h),a.pathData.push([e.x,e.y].join(",")+","),h!=a.itemData.startAngle;h-=i);a.pathData.push("z"),a.path.setData(a.pathData.join(""))}}this.layer.map(function(e,i){t.stage.add(e),e.setZIndex(t.layer.length-i)}),window.requestAnimationFrame(function(){t.animation()}),this.isDone&&window.requestAnimationFrame(function(){t.animationLine()})}}},{key:"drawCircle",value:function(){this.circleRadius=Math.ceil(this.circlePercent*this.max/2),this.circle=new o.default.Circle({x:this.cx,y:this.cy,radius:this.circleRadius,stroke:this.lineColor,strokeWidth:2.5,fill:"#ffffff00"}),this.layoutLayer.add(this.circle)}},{key:"drawCircleLine",value:function(){this.circleLineRadius=Math.ceil(this.circleLinePercent*this.max/2);var t=[];t.push("M");for(var e=90;e<=180;e++){var i=s.distanceAngleToPoint(this.circleLineRadius,e);t.push([i.x,i.y].join(",")+","),90==e&&t.push("L")}t.push("M");for(var n=270;n<=360;n++){var a=s.distanceAngleToPoint(this.circleLineRadius,n);t.push([a.x,a.y].join(",")+","),270==n&&t.push("L")}this.circleLine=new o.default.Path({data:t.join(""),x:this.cx,y:this.cy,stroke:this.lineColor,strokeWidth:2.5,fill:"#ffffff00"}),this.layoutLayer.add(this.circleLine)}},{key:"initDataLayout",value:function(){var t=this;return this.layer=[],this.path=[],this.line=[],this.layoutLayer=new o.default.Layer,this.drawCircle(),this.drawCircleLine(),this.stage.add(this.layoutLayer),this.data.data.map(function(e,i){var n=t.colors[i%t.colors.length];h.default.jsonInData(e,"itemStyle.color")&&(n=e.itemStyle.color);var a=new o.default.Path({x:t.cx,y:t.cy,strokeWidth:1,stroke:n,data:"",fill:n}),s={path:a,pathData:[],itemData:e};t.path.push(s),a.on("mouseenter",function(t){}),a.on("mouseleave",function(){});var r=new o.default.Line({x:t.cx,y:t.cy,points:[0,0,0,0],stroke:"#ffffff",strokeWidth:2});t.line.push(r);var u=new o.default.Layer;u.add(a),u.add(r),t.layer.push(u)}),this.layer.map(function(e,i){t.stage.add(e)}),this}},{key:"calcDataPosition",value:function(){var t=this;if(this.data){var e=0,i=0;if(this.data.data.map(function(t){e+=t.value}),this.total=e,this.data.data.map(function(n){n._percent=u.parseFinance(n.value/e),i=u.parseFinance(i+n._percent),n._totalPercent=i,n.percent=parseInt(100*n._percent),n.endAngle=t.totalAngle*n._totalPercent}),this.data.data.length){var n=this.data.data[this.data.data.length-1];i-=n._percent,n._percent=1-i,n.percent=parseInt(100*n._percent),n._totalPercent=1,n.endAngle=this.totalAngle}this.data.data.map(function(e,i){e.startAngle=i?t.data.data[i-1].endAngle:0,e.midAngle=e.startAngle+(e.endAngle-e.startAngle)/2,e.lineStart=s.distanceAngleToPoint(t.outRadius,e.midAngle),e.lineEnd=s.distanceAngleToPoint(t.outRadius+t.lineLength,e.midAngle),e.textPoint=s.distanceAngleToPoint(t.outRadius+t.lineLength,e.midAngle),e.pointDirection=new r.default(t.width,t.height,s.pointPlus(e.textPoint,t.cpoint))})}}},{key:"animationLine",value:function(){var t=this;if(!(this.lineLengthCount>=this.lineLength)){this.lineLengthCount+=this.lineLengthStep,this.lineLengthCount>=this.lineLength&&(this.lineLengthCount=this.lineLength);for(var e=0;e<this.path.length;e++){var i=this.path[e],n=this.layer[e],a=s.distanceAngleToPoint(this.outRadius+this.lineLengthCount,i.itemData.midAngle);this.line[e].points([i.itemData.lineStart.x,i.itemData.lineStart.y,a.x,a.y]),this.lineLengthCount>=this.lineLength?(this.addIcon(i,n),this.addText(i,n)):window.requestAnimationFrame(function(){t.animationLine()}),this.stage.add(n)}}}},{key:"addIcon",value:function(t,e){var i=new l.default(this.box,this.width,this.height);i.setOptions({stage:this.stage,layer:e}),i.update(t.itemData.lineEnd)}},{key:"addText",value:function(t,e){var i=new o.default.Text({x:0,y:0,text:t.itemData.percent+"%",fill:"#a3a7f3",fontFamily:"HuXiaoBoKuHei",fontSize:31}),n=this.cx+t.itemData.textPoint.x,a=this.cy+t.itemData.textPoint.y;switch(t.itemData.pointDirection.auto()){case r.default.DIRE_NAME.leftTop:a-=i.textHeight+this.textOffset,n-=i.textWidth/2;break;case r.default.DIRE_NAME.rightTop:a-=i.textHeight+this.textOffset;break;case r.default.DIRE_NAME.topCenter:a-=i.textHeight+this.textOffset,n-=i.textWidth/2;break;case r.default.DIRE_NAME.bottomCenter:n-=i.textWidth/2;break;case r.default.DIRE_NAME.rightMid:n+i.textWidth>=this.width&&(n=this.width-i.textWidth-5);break;case r.default.DIRE_NAME.rightBottom:break;case r.default.DIRE_NAME.leftBottom:n-=i.textWidth/2;break;case r.default.DIRE_NAME.leftMid:(n-=i.textWidth)<1&&(n=1),a+=this.textOffset}i.x(n),i.y(a),e.add(i)}},{key:"calcLayoutPosition",value:function(){return this.outRadius=Math.ceil(this.outPercent*this.max/2),this.inRadius=Math.ceil(this.inPercent*this.max/2),this.lineLength=(Math.min(this.width,this.height)-2*this.outRadius)/2-this.lineOffset,this.lineLengthCount=1,this.lineLengthStep=.5,this}}]),e}();e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=u(i(2)),s=h(i(3)),r=u(i(5)),o=u(i(0));u(i(1)),h(i(4)),u(i(6));function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return a.name="Gauge"+Date.now(),a.roundRadiusPercent=.085,a.lineColor="#596ea7",a.circleLinePercent=.26,a.circlePercent=.28,a.arcLinePercent=.195,a.arcOutPercent=.19,a.arcInPercent=.1525,a.arcLabelLength=6,a.arcTextLength=20,a.arcAngle=280,a.part=22,a.arcTotal=1100,a.textOffset=0,a.arcOffset=90+(360-a.arcAngle)/2,a.partLabel=a.part/2,a.partAngle=a.arcAngle/a.part,a.partNum=a.arcTotal/a.part,a.textOffsetX=-1,a.textOffsetY=-8,a.textLineLength=6,a.textRectWidthPercent=.5,a.textRectHeightPercent=.11,a.init(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),n(e,[{key:"init",value:function(){this.roundRadius=this.width*this.roundRadiusPercent,this.arcInRadius=this.width*this.arcInPercent,this.arcOutRadius=this.width*this.arcOutPercent,this.arcLineRaidus=Math.ceil(this.arcLinePercent*this.max),this.textWidth=this.textRectWidthPercent*this.width,this.textHeight=this.textRectHeightPercent*this.width,this.textX=this.cx-this.textWidth/2,this.textY=this.cy+this.arcLineRaidus+this.arcTextLength/2+2,this.arcPartLineAr=[],this.arcOutlinePartAr=[],this.textAr=[];for(var t=0;t<=this.part;t++){var e,i=void 0,n=void 0;if(e=t*this.partAngle+this.arcOffset,t&&t<this.part&&(i=s.distanceAngleToPoint(this.arcInRadius,e),n=s.distanceAngleToPoint(this.arcOutRadius,e),this.arcPartLineAr.push("M"),this.arcPartLineAr.push([i.x,i.y].join(",")),this.arcPartLineAr.push("L"),this.arcPartLineAr.push([n.x,n.y].join(","))),i=s.distanceAngleToPoint(this.arcLineRaidus,e),n=s.distanceAngleToPoint(this.arcLineRaidus+this.arcLabelLength,e),this.arcOutlinePartAr.push("M"),this.arcOutlinePartAr.push([i.x,i.y].join(",")),this.arcOutlinePartAr.push("L"),this.arcOutlinePartAr.push([n.x,n.y].join(",")),!(t*this.partNum%100)||0===t){var a=8;0===t&&(a=1),t>=19&&(a=14),t>=21&&(a=18);var o={text:t*this.partNum,angle:e-a,point:s.distanceAngleToPoint(this.arcLineRaidus+this.arcTextLength+0,e-a)};o.textPoint=new r.default(this.width,this.height,s.pointPlus(o.point,this.cpoint)),this.textAr.push(o)}}}},{key:"update",value:function(t,e){this.stage.removeChildren(),this.initDataLayout()}},{key:"drawText",value:function(){this.totalText=new o.default.Text({text:"2345678",x:this.cx,y:this.textY,fontSize:26,fontFamily:"HuXiaoBoKuHei",fill:"#ffffff",fontStyle:"italic"}),this.totalText.x(this.cx-this.totalText.textWidth/2),this.totalText.y(this.textY+5),this.layoutLayer.add(this.totalText)}},{key:"drawTextRect",value:function(){this.textRect=new o.default.Rect({fill:"#596ea7",stroke:"#ffffff00",strokeWidth:0,opacity:.3,width:this.textWidth,height:this.textHeight,x:this.textX,y:this.textY});var t=[];t.push("M",[this.textX,this.textY+this.textLineLength].join(",")),t.push("L",[this.textX,this.textY].join(",")),t.push("L",[this.textX+this.textLineLength,this.textY].join(",")),t.push("M",[this.textX+this.textWidth-this.textLineLength,this.textY].join(",")),t.push("L",[this.textX+this.textWidth,this.textY].join(",")),t.push("L",[this.textX+this.textWidth,this.textY+this.textLineLength].join(",")),t.push("M",[this.textX+this.textWidth,this.textY+this.textHeight-this.textLineLength].join(",")),t.push("L",[this.textX+this.textWidth,this.textY+this.textHeight].join(",")),t.push("L",[this.textX+this.textWidth-this.textLineLength,this.textY+this.textHeight].join(",")),t.push("M",[this.textX+this.textLineLength,this.textY+this.textHeight].join(",")),t.push("L",[this.textX,this.textY+this.textHeight].join(",")),t.push("L",[this.textX,this.textY+this.textHeight-this.textLineLength].join(",")),this.textLinePath=new o.default.Path({data:t.join(""),stroke:this.lineColor,strokeWidth:1}),this.layoutLayer.add(this.textLinePath),this.layoutLayer.add(this.textRect)}},{key:"drawArcText",value:function(){var t=this;this.textAr&&this.textAr.length&&this.textAr.map(function(e){var i=new o.default.Text({x:e.point.x+t.cx,y:e.point.y+t.cy,text:e.text+"",fontSize:11,fontFamily:"MicrosoftYaHei",fill:t.lineColor});i.rotation(e.angle+90),t.layoutLayer.add(i)})}},{key:"drawArcLine",value:function(){var t=[];t.push("M");for(var e=this.arcOffset;e<=this.arcOffset+this.arcAngle;e+=.5){var i=s.distanceAngleToPoint(this.arcLineRaidus,e);t.push([i.x,i.y].join(",")+","),90==e&&t.push("L")}this.arcLine=new o.default.Path({data:t.join(""),x:this.cx,y:this.cy,stroke:this.lineColor,strokeWidth:1,fill:"#ffffff00"}),this.arcPartLine=new o.default.Path({data:this.arcPartLineAr.join(""),x:this.cx,y:this.cy,stroke:"#00000088",strokeWidth:1,fill:"#ffffff00"}),this.arcOutlinePart=new o.default.Path({data:this.arcOutlinePartAr.join(""),x:this.cx,y:this.cy,stroke:this.lineColor,strokeWidth:1,fill:"#ffffff00"}),this.layoutLayer.add(this.arcLine),this.layoutLayer.add(this.arcPartLine),this.layoutLayer.add(this.arcOutlinePart)}},{key:"drawArc",value:function(){var t={x:this.cx,y:this.cy,innerRadius:this.arcInRadius,outerRadius:this.arcOutRadius,angle:this.arcAngle,stroke:"#ffffff00",strokeWidth:0,rotation:this.arcOffset,fillLinearGradientStartPoint:{x:-50,y:-50},fillLinearGradientEndPoint:{x:50,y:50},fillLinearGradientColorStops:[0,"#ff9000",.5,"#64b185",1,"#5a78ca"]};this.arc=new o.default.Arc(t),this.layoutLayer.add(this.arc)}},{key:"initDataLayout",value:function(){var t=this;this.layer=new o.default.Layer,this.layoutLayer=new o.default.Layer,this.roundLine=new o.default.Circle({x:this.cx,y:this.cy,radius:this.roundRadius,stroke:this.lineColor,strokeWidth:2.5,fill:"rgba( 0, 0, 0, .5 )"}),this.percentText=new o.default.Text({x:this.cx,y:this.cy,text:"高频\n攻击",fontSize:18,fontFamily:"HuXiaoBoKuHei",fill:"#ffffff",fontStyle:"italic"}),this.percentText.x(this.cx-this.percentText.textWidth/2+this.textOffsetX),this.percentText.y(this.cy-this.percentText.textHeight/2+this.textOffsetY);var e=new o.default.Wedge({x:0,y:-3,radius:10,angle:20,fill:"#ff5a00",stroke:"#ff5a00",strokeWidth:1,rotation:90}),i=new o.default.Wedge({x:0,y:-3,radius:10,angle:20,fill:"#973500",stroke:"#973500",strokeWidth:1,rotation:65}),n=new o.default.Group({x:this.cx,y:this.cy});n.add(i),n.add(e),this.angle=-90,this.group=n,this.layer.add(n),this.layer.add(this.roundLine),this.layer.add(this.percentText),this.drawCircle(),this.drawCircleLine(),this.drawArc(),this.drawArcLine(),this.drawArcText(),this.drawTextRect(),this.drawText(),this.stage.add(this.layer),this.stage.add(this.layoutLayer),window.requestAnimationFrame(function(){t.animation()})}},{key:"animation",value:function(){this.angle++;var t=s.distanceAngleToPoint(this.roundRadius+6,this.angle);this.group.x(this.cx+t.x),this.group.y(this.cy+t.y),this.group.rotation(this.angle+90),this.group.rotation(this.angle+90),this.stage.add(this.layer)}},{key:"calcDataPosition",value:function(){}},{key:"animationLine",value:function(){}},{key:"addIcon",value:function(t,e){}},{key:"addText",value:function(t,e){}},{key:"calcLayoutPosition",value:function(){}},{key:"drawCircle",value:function(){this.circleRadius=Math.ceil(this.circlePercent*this.max/2),this.circle=new o.default.Circle({x:this.cx,y:this.cy,radius:this.circleRadius,stroke:this.lineColor,strokeWidth:1,fill:"#ffffff00"}),this.layoutLayer.add(this.circle)}},{key:"drawCircleLine",value:function(){this.circleLineRadius=Math.ceil(this.circleLinePercent*this.max/2);var t=[];t.push("M");for(var e=90;e<=180;e++){var i=s.distanceAngleToPoint(this.circleLineRadius,e+90);t.push([i.x,i.y].join(",")+","),90==e&&t.push("L")}t.push("M");for(var n=270;n<=360;n++){var a=s.distanceAngleToPoint(this.circleLineRadius,n+90);t.push([a.x,a.y].join(",")+","),270==n&&t.push("L")}this.circleLine=new o.default.Path({data:t.join(""),x:this.cx,y:this.cy,stroke:this.lineColor,strokeWidth:1.5,fill:"#ffffff00"}),this.layoutLayer.add(this.circleLine)}},{key:"reset",value:function(){}}]),e}();e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.CHART_TYPE={dount:"dount",gauge:"gauge"}},,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(7),a=i.n(n),s=i(8);new(i.n(s).a)("HuXiaoBoKuHei").load().then(function(){let t=i(20),e=new a.a(document.querySelector("#twoBox"),330,330);e.addImage("./img/rate-out.png",170,170,0,0),e.update(t),setTimeout(()=>{},5e3)},function(){})},function(t){t.exports={tooltip:{formatter:"{a} <br/>{b} : {c}%"},toolbox:{show:true,feature:{mark:{show:true},restore:{show:true},saveAsImage:{show:true}}},series:[{name:"业务指标",type:"gauge",splitNumber:10,axisLine:{lineStyle:{color:[[.2,"#228b22"],[.8,"#48b"],[1,"#ff4500"]],width:8}},axisTick:{splitNumber:10,length:12,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{show:true,length:30,lineStyle:{color:"auto"}},pointer:{width:5},title:{show:true,offsetCenter:[0,"-40%"],textStyle:{fontWeight:"bolder"}},detail:{formatter:"{value}%",textStyle:{color:"auto",fontWeight:"bolder"}},data:[{value:50,name:"完成率"}]}]}}],[[19,1,0]]]);
//# sourceMappingURL=gauge.js.map