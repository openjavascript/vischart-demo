(window.webpackJsonp=window.webpackJsonp||[]).push([[4],[,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(0),r=(n=o)&&n.__esModule?n:{default:n};var s=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.box=e,this.customWidth=i,this.customHeight=n,this.width=i||e.offsetWidth,this.height=n||e.offsetHeight,this.max=Math.max(this.width,this.height),this.min=Math.min(this.width,this.height),this.cx=this.width/2,this.cy=this.height/2,this.cpoint={x:this.cx,y:this.cy},this.totalAngle=360,this.angleOffset=0,this.countAngle=0,this.images=[],this.rateWidth=330,this.rateHeight=330,this.rotationBg=[],this.rotationBgCount=0,this.rotationBgStep=1,this.colors=["#f12575","#da432e","#f3a42d","#19af89","#24a3ea","#b56be8"]}return a(t,[{key:"update",value:function(t,e){return this.data=t,this.allData=e,this.loadImage(),this}},{key:"setLegend",value:function(t){this.legend=t}},{key:"animation",value:function(){}},{key:"animationBg",value:function(){var t=this;this.isDestroy||this.rotationBg.length&&(this.rotationBg.map(function(e){t.rotationBgCount=(t.rotationBgCount-t.rotationBgStep)%360,e.rotation(t.rotationBgCount)}),this.stage.add(this.iconLayer),window.requestAnimationFrame(function(){t.animationBg()}))}},{key:"addImage",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=this.min/this.rateWidth,s=this.min/this.rateHeight;return this.images.push({url:t,width:e*r,height:i*s,offsetX:n,offsetY:a,rotation:o}),this}},{key:"loadImage",value:function(){var t=this;return this.iconLayer&&this.iconLayer.remove(),this.iconLayer=new r.default.Layer,this.images=[],this.data&&this.data.background&&this.data.background.length&&this.data.background.map(function(e){t.addImage(e.url,e.width,e.height,e.offsetX||0,e.offsetY||0,e.rotation||0)}),this.rotationBg=[],this.images.map(function(e){var i=new Image;i.onload=function(){var n=e.width||i.width,a=e.height||i.height,o=new r.default.Image({image:i,x:t.fixCx()-n/2+e.offsetX,y:t.fixCy()-a/2+e.offsetY,width:n,height:a});t.iconLayer.add(o),e.rotation&&(t.rotationBg.push(o),o.x(t.fixCx()-n/2+e.offsetX+n/2),o.y(t.fixCy()-a/2+e.offsetY+a/2),o.offset({x:n/2,y:a/2}),1===t.rotationBg.length&&t.animationBg()),t.stage.add(t.iconLayer)},i.src=e.url}),this}},{key:"hasLegend",value:function(){var t=void 0;return this.data&&this.data.legend&&this.data.legend.data&&this.data.legend.data.length&&(t=true),t}},{key:"fixCx",value:function(){return this.cx}},{key:"fixCy",value:function(){var t=this.cy;if(this.legend)switch(this.legend.direction()){case"bottom":t=(this.height-this.legend.outerHeight()/2)/2-5}return t}},{key:"fixWidth",value:function(){return this.width}},{key:"fixHeight",value:function(){return this.height}},{key:"init",value:function(){return this}},{key:"setOptions",value:function(t){for(var e in t)this[e]=t[e];this.options=t}},{key:"calcLayoutPosition",value:function(){return this}},{key:"calcDataPosition",value:function(){return this}},{key:"initDataLayout",value:function(){return this}},{key:"draw",value:function(){return this}},{key:"reset",value:function(){}},{key:"getData",value:function(){return this.data||{}}},{key:"layer",value:function(){return this.layer}},{key:"setLayer",value:function(t){return this.layer=t,this}},{key:"setStage",value:function(t){this.stage=t}},{key:"setDestroy",value:function(){this.isDestroy=1}},{key:"destroy",value:function(){this.setDestroy(),this.iconLayer.remove()}}]),t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true}),e.pointRectangleIntersection=function(t,e){return t.x>=e.x&&t.x<=e.x2&&t.y>=e.y&&t.y<=e.y2},e.pointDistance=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},e.pointAngle=function(t,e){var i=180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI;i<0&&(i=360+i);return i},e.distanceAngleToPoint=function(t,e){var i=e*Math.PI/180;return{x:Math.cos(i)*t,y:Math.sin(i)*t}},e.radians=function(t){return t*Math.PI/180},e.degree=function(t){return t/Math.PI*180},e.intersectRect=function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},e.fixEndAngle=function(t,e){e<t&&(e+=360);return e},e.pointPlus=function(t,e){return{x:t.x+e.x,y:t.y+e.y}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true}),e.parseFinance=function(t,e){return t=parseFloat(t)||0,void 0===e&&(e=2),t&&(t=parseFloat(t.toFixed(e))),t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=s(i(0)),o=s(i(1)),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(3));function s(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=e,this.height=i,this.point=n,this.cx=this.width/2,this.cy=this.height/2,this.cpoint={x:this.cx,y:this.cy},this.offsetX=20,this.offsetY=20,this.colors=["#f12575","#da432e","#f3a42d","#19af89","#24a3ea","#b56be8"],this.init()}return n(t,[{key:"setDebug",value:function(t){this.stage=t,this.layer=new a.default.Layer;var e=0;for(var i in this.rects){var n=this.rects[i],r=o.default.clone(n);r.fill=this.colors[e%this.colors.length];var s=new a.default.Rect(r);this.layer.add(s),e++}this.stage.add(this.layer)}},{key:"init",value:function(){this.leftTop={x:0,y:0,width:this.cx+this.offsetX,height:this.cy+this.offsetY},this.leftTop.x2=this.leftTop.x+this.leftTop.width,this.leftTop.y2=this.leftTop.y+this.leftTop.height,this.rightTop={x:this.cx-this.offsetX,y:0,width:this.cx+this.offsetX,height:this.cy+this.offsetY},this.rightTop.x2=this.rightTop.x+this.rightTop.width,this.rightTop.y2=this.rightTop.y+this.rightTop.height,this.leftBottom={x:0,y:this.cy-this.offsetY,width:this.cx+this.offsetX,height:this.cy+this.offsetY},this.leftBottom.x2=this.leftBottom.x+this.leftBottom.width,this.leftBottom.y2=this.leftBottom.y+this.leftBottom.height,this.rightBottom={x:this.cx-this.offsetX,y:this.cy-this.offsetY,width:this.cx+this.offsetX,height:this.cy+this.offsetY},this.rightBottom.x2=this.rightBottom.x+this.rightBottom.width,this.rightBottom.y2=this.rightBottom.y+this.rightBottom.height,this.rects={leftTop:this.leftTop,rightTop:this.rightTop,leftBottom:this.leftBottom,rightBottom:this.rightBottom}}},{key:"isLeftTop",value:function(){return r.pointRectangleIntersection(this.point,this.leftTop)?1:0}},{key:"isRightTop",value:function(){return r.pointRectangleIntersection(this.point,this.rightTop)?2:0}},{key:"isRightBottom",value:function(){return r.pointRectangleIntersection(this.point,this.rightBottom)?4:0}},{key:"isLeftBottom",value:function(){return r.pointRectangleIntersection(this.point,this.leftBottom)?8:0}},{key:"auto",value:function(){return this.isLeftTop()+this.isRightTop()+this.isRightBottom()+this.isLeftBottom()}},{key:"autoAngle",value:function(){var e=r.pointAngle(this.cpoint,this.point);return e>=0&&e<=90?t.DIRE_NAME.rightBottom:e>90&&e<=180?t.DIRE_NAME.leftBottom:e>180&&e<=270?t.DIRE_NAME.leftTop:t.DIRE_NAME.rightTop}}]),t}();e.default=h,h.DIRE_NAME={leftTop:1,rightTop:2,rightBottom:4,leftBottom:8,topCenter:3,rightMid:6,bottomCenter:12,leftMid:9},h.DIRE_NUM={1:"leftTop",2:"rightTop",4:"rightBottom",8:"leftBottom",3:"topCenter",6:"rightMid",9:"leftMid",12:"bottomCenter"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=c(i(2)),o=c(i(8)),r=c(i(10)),s=c(i(0)),h=c(i(1)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(13)),l=c(i(14));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return a.ins=[],a.legend=null,a.init(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),n(e,[{key:"init",value:function(){if(this.box)return this.stage=new s.default.Stage({container:this.box,width:this.width,height:this.height}),this.customWidth&&(this.box.style.width=this.customWidth+"px"),this.customHeight&&(this.box.style.height=this.customHeight+"px"),this}},{key:"update",value:function(t){var e=this;if(this.data=t,h.default.jsonInData(this.data,"series"))return this.ins.map(function(t){t.destroy()}),this.stage.removeChildren(),h.default.jsonInData(this.data,"legend.data")&&this.data.legend.data.length&&(this.legend=new l.default(this.box,this.width,this.height),this.legend.setStage(this.stage),this.legend.setOptions({onChange:function(t){e.initChart()}}),this.legend.update(this.data.legend)),this.initChart(),this}},{key:"initChart",value:function(){var t=this;this.ins.map(function(t){t.destroy()}),this.ins=[],this.data.series.map(function(e,i){var n=void 0;switch(e.type){case u.CHART_TYPE.dount:n=new o.default(t.box,t.width,t.height);break;case u.CHART_TYPE.gauge:n=new r.default(t.box,t.width,t.height)}n&&(t.legend&&n.setLegend(t.legend),t.options&&n.setOptions(t.options),n.setStage(t.stage),n.update(t.getLegendData(e),h.default.clone(t.data)),t.ins.push(n))})}},{key:"getLegendData",value:function(t){t=h.default.clone(t);var e=[];return this.legend&&this.legend.group&&this.legend.group.length&&(this.legend.group.map(function(i,n){i.disabled||e.push(t.data[n])}),t.data=e),t}}]),e}();e.default=f},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function t(e,i,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,i);if(void 0===a){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(n):void 0},o=d(i(2)),r=f(i(3)),s=d(i(5)),h=d(i(0)),u=d(i(1)),l=f(i(4)),c=d(i(9));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return a.name="Dount "+Date.now(),a.outPercent=.53,a.inPercent=.37,a.circleLinePercent=.34,a.circlePercent=.31,a.circleLineRotation=0,a.circleLineRotationStep=4,a.animationStep=8,a.angleStep=5,a.textHeight=26,a.lineOffset=50,a.path=[],a.textOffset=4,a.lineColor="#24a3ea",a.lineRange={1:[],2:[],4:[],8:[]},a.lineWidth=45,a.lineSpace=10,a.lineAngle=35,a.lineHeight=21,a.lineCurveLength=40,a.loopSort=[4,8,1,2],a.init(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),n(e,[{key:"init",value:function(){return this.calcLayoutPosition(),this}},{key:"update",value:function(t,i){if(a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t,i),this.data=t,this.allData=i,u.default.jsonInData(this.data,"data"))return this.calcDataPosition(),this.initDataLayout(),this.animation(),this.animationCircleLine(),this}},{key:"reset",value:function(){this.path.map(function(t){t.pathData=[]})}},{key:"animationCircleLine",value:function(){var t=this;this.isDestroy||this.circleLine&&(this.circleLineRotation+=this.circleLineRotationStep,this.circleLine.rotation(this.circleLineRotation),this.stage.add(this.layoutLayer),window.requestAnimationFrame(function(){t.animationCircleLine()}))}},{key:"animation",value:function(){var t=this;if(!this.isDestroy&&!this.isDone){var e=void 0,i=this.angleStep;this.countAngle+=this.animationStep,this.countAngle>=this.totalAngle&&(this.countAngle=this.totalAngle,this.isDone=1),this.reset();for(var n=this.path.length-1;n>=0;n--){var a=this.path[n],o=this.countAngle;if(o>=a.itemData.endAngle&&(o=a.itemData.endAngle),!(o<a.itemData.startAngle)){a.pathData.push("M");for(var s=a.itemData.startAngle;s>=o&&(s=o),e=r.distanceAngleToPoint(this.outRadius,s),a.pathData.push([e.x,e.y].join(",")+","),s==a.itemData.startAngle&&a.pathData.push("L"),!(s>=o);s+=i);for(var h=o;h<=a.itemData.startAngle&&(h=a.itemData.startAngle),e=r.distanceAngleToPoint(this.inRadius,h),a.pathData.push([e.x,e.y].join(",")+","),h!=a.itemData.startAngle;h-=i);a.pathData.push("z"),a.path.setData(a.pathData.join(""))}}this.layer.map(function(e,i){t.stage.add(e),e.setZIndex(t.layer.length-i)}),window.requestAnimationFrame(function(){t.animation()}),this.isDone&&window.requestAnimationFrame(function(){t.animationLine()})}}},{key:"drawCircle",value:function(){this.circleRadius=Math.ceil(this.circlePercent*this.min/2),this.circle=new h.default.Circle({x:this.fixCx(),y:this.fixCy(),radius:this.circleRadius,stroke:this.lineColor,strokeWidth:2.5,fill:"#ffffff00"}),this.layoutLayer.add(this.circle)}},{key:"drawCircleLine",value:function(){this.circleLineRadius=Math.ceil(this.circleLinePercent*this.min/2);var t=[];t.push("M");for(var e=90;e<=180;e++){var i=r.distanceAngleToPoint(this.circleLineRadius,e);t.push([i.x,i.y].join(",")+","),90==e&&t.push("L")}t.push("M");for(var n=270;n<=360;n++){var a=r.distanceAngleToPoint(this.circleLineRadius,n);t.push([a.x,a.y].join(",")+","),270==n&&t.push("L")}this.circleLine=new h.default.Path({data:t.join(""),x:this.fixCx(),y:this.fixCy(),stroke:this.lineColor,strokeWidth:2.5,fill:"#ffffff00"}),this.layoutLayer.add(this.circleLine)}},{key:"initDataLayout",value:function(){var t=this;return this.layer=[],this.path=[],this.line=[],this.layoutLayer=new h.default.Layer,this.drawCircle(),this.drawCircleLine(),this.stage.add(this.layoutLayer),this.data.data.map(function(e,i){var n=t.colors[i%t.colors.length];u.default.jsonInData(e,"itemStyle.color")&&(n=e.itemStyle.color);var a=new h.default.Path({x:t.fixCx(),y:t.fixCy(),strokeWidth:1,stroke:n,data:"",fill:n}),o={path:a,pathData:[],itemData:e};t.path.push(o);var r=new h.default.Line({x:t.fixCx(),y:t.fixCy(),points:[0,0,0,0],stroke:"#ffffff",strokeWidth:2});t.line.push(r);var s=new h.default.Layer;s.add(a),s.add(r),t.layer.push(s)}),this.layer.map(function(e,i){t.stage.add(e)}),this}},{key:"calcDataPosition",value:function(){var t=this;if(this.data){var e=0,i=0;if(this.data.data.map(function(t){e+=t.value}),this.total=e,this.data.data.map(function(n){n._percent=l.parseFinance(n.value/e),i=l.parseFinance(i+n._percent),n._totalPercent=i,n.percent=parseInt(100*n._percent),n.endAngle=t.totalAngle*n._totalPercent}),this.data.data.length){var n=this.data.data[this.data.data.length-1];i-=n._percent,n._percent=1-i,n.percent=parseInt(100*n._percent),n._totalPercent=1,n.endAngle=this.totalAngle}this.lineRange={1:[],2:[],4:[],8:[]},this.data.data.map(function(e,i){e.startAngle=i?t.data.data[i-1].endAngle:0,e.midAngle=e.startAngle+(e.endAngle-e.startAngle)/2,e.lineStart=r.distanceAngleToPoint(t.outRadius,e.midAngle),e.lineEnd=r.distanceAngleToPoint(t.outRadius+t.lineLength,e.midAngle),e.textPoint=r.distanceAngleToPoint(t.outRadius+t.lineLength,e.midAngle),e.pointDirection=new s.default(t.fixWidth(),t.fixHeight(),r.pointPlus(e.textPoint,t.cpoint));var n=e.pointDirection.autoAngle();switch(e.lineExpend=u.default.clone(e.lineEnd),n){case 1:case 8:if(e.lineEnd.x=-(t.outRadius+t.lineSpace),r.pointDistance(e.lineStart,e.lineEnd)>t.lineCurveLength){var a=r.pointAngle(e.lineStart,e.lineEnd),o=r.distanceAngleToPoint(t.lineCurveLength,a);o=r.pointPlus(o,e.lineStart),e.lineEnd.x=o.x}e.lineExpend.x=e.lineEnd.x-t.lineWidth;break;default:if(e.lineEnd.x=t.outRadius+t.lineSpace,r.pointDistance(e.lineStart,e.lineEnd)>t.lineCurveLength){var h=r.pointAngle(e.lineStart,e.lineEnd),l=r.distanceAngleToPoint(t.lineCurveLength,h);l=r.pointPlus(l,e.lineStart),e.lineEnd.x=l.x}e.lineExpend.x=e.lineEnd.x+t.lineWidth}t.lineRange[n].push(e)}),this.loopSort.map(function(e){var i=t.lineRange[e];if(i&&i.length&&i.length>1){for(var n=1;n<i.length;n++){var a=i[n-1],o=i[n];if(Math.abs(o.lineEnd.y-a.lineEnd.y)<t.lineHeight){1;break}}switch(e){case 1:for(var r=i[0].lineEnd.y,s=i.length-2;s>=0;s--){var h=i[s+1],u=i[s];(Math.abs(h.lineEnd.y-u.lineEnd.y)<t.lineHeight||u.lineEnd.y<=h.lineEnd.y)&&(r=h.lineEnd.y+t.lineHeight,u.lineEnd.y=r,u.lineEnd.y,u.lineStart.y,u.lineExpend.y=r)}break;case 2:for(var l=i[0].lineEnd.y,c=1;c<i.length;c++){var f=i[c-1],d=i[c];i[0];Math.abs(f.lineEnd.y+t.fixCy())<t.lineHeight&&(f.lineExpend.y=f.lineEnd.y=f.lineExpend.y+t.lineHeight),(Math.abs(f.lineEnd.y-d.lineEnd.y)<t.lineHeight||d.lineEnd.y<=f.lineEnd.y)&&(l=f.lineEnd.y+t.lineHeight,d.lineEnd.y=l,d.lineEnd.y,d.lineStart.y,d.lineExpend.y=l)}break;case 4:for(var y=i[0].lineEnd.y,p=1;p<i.length;p++){var g=i[p-1],x=i[p];i[0];(Math.abs(g.lineEnd.y-x.lineEnd.y)<t.lineHeight||x.lineEnd.y<=g.lineEnd.y)&&(y=g.lineEnd.y+t.lineHeight,x.lineEnd.y=y,x.lineEnd.y<x.lineStart.y&&(y=x.lineStart.y+t.lineHeight,x.lineEnd.y=y),x.lineExpend.y=y)}break;case 8:for(var v=i[i.length-1].lineEnd.y,m=i.length-2;m>0;m--){var w=i[m+1],L=i[m];(Math.abs(w.lineEnd.y-L.lineEnd.y)<t.lineHeight||L.lineEnd.y<=w.lineEnd.y)&&(v=w.lineEnd.y+t.lineHeight,L.lineEnd.y=v,L.lineEnd.y<L.lineStart.y&&(L.lineEnd.y=L.lineStart.y+t.lineHeight),L.lineExpend.y=L.lineEnd.y)}}}})}}},{key:"animationLine",value:function(){var t=this;if(!(this.lineLengthCount>=this.lineLength)){this.lineLengthCount=this.lineLength,this.lineLengthCount+=this.lineLengthStep,this.lineLengthCount>=this.lineLength&&(this.lineLengthCount=this.lineLength);for(var e=0;e<this.path.length;e++){var i=this.path[e],n=this.layer[e],a=i.itemData.lineEnd,o=i.itemData.lineExpend;this.line[e].points([i.itemData.lineStart.x,i.itemData.lineStart.y,a.x,a.y,o.x,o.y]),this.lineLengthCount>=this.lineLength?(this.addText(i,n),this.addIcon(i,n)):window.requestAnimationFrame(function(){t.animationLine()}),this.stage.add(n)}}}},{key:"addIcon",value:function(t,e){var i=new c.default(this.box,this.fixWidth(),this.fixHeight());i.setOptions({stage:this.stage,layer:e,cx:this.fixCx(),cy:this.fixCy()}),i.update(t.itemData.lineExpend)}},{key:"addText",value:function(t,e){var i=new h.default.Text({x:0,y:0,text:t.itemData.percent+"%",fill:"#a3a7f3",fontFamily:"MicrosoftYaHei",fontSize:16,fontStyle:"italic"}),n=t.itemData.textPoint,a=t.itemData.pointDirection.autoAngle();switch((n=u.default.clone(t.itemData.lineEnd)).y-=i.textHeight+1,a){case 1:n.x-=i.textWidth;break;case 2:case 4:break;case 8:n.x-=i.textWidth}var o=this.fixCx()+n.x,r=this.fixCy()+n.y;t.itemData.pointDirection.auto();i.x(o),i.y(r),e.add(i)}},{key:"calcLayoutPosition",value:function(){return this.outRadius=Math.ceil(this.outPercent*this.min/2),this.inRadius=Math.ceil(this.inPercent*this.min/2),this.lineLength=(Math.min(this.fixWidth(),this.fixHeight())-2*this.outRadius)/2-this.lineOffset,this.lineLengthCount=1,this.lineLengthStep=.5,this.lineLeft=this.fixCx()-this.outRadius-this.lineSpace,this.lineRight=this.fixCx()+this.outRadius+this.lineSpace,this}},{key:"destroy",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.layoutLayer.remove(),this.layer.map(function(t){t.remove()})}}]),e}();e.default=y},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=s(i(2)),o=(r(i(3)),s(i(0)));s(i(1)),r(i(4));function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return a.name="IconRound "+Date.now(),a.outRadius=6,a.inRadius=2.5,a.color="#ffffff",a.max=1.1,a.min=.8,a.step=.006,a.cur=1,a.isplus=1,a.init(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),n(e,[{key:"init",value:function(){return this}},{key:"update",value:function(t){this.point=t,this.group=new o.default.Group({x:this.point.x+this.cx,y:this.point.y+this.cy,width:2*this.outRadius,height:2*this.outRadius}),this.circle=new o.default.Circle({radius:this.inRadius,fill:this.color,stroke:this.color,x:0,y:0}),this.outcircle=new o.default.Circle({radius:this.outRadius,fill:"#ffffff00",stroke:this.color,strokeWidth:1,x:0,y:0}),this.group.add(this.circle),this.group.scale({x:this.cur,y:this.cur}),this.layer.add(this.group)}},{key:"reset",value:function(){}},{key:"animation",value:function(){var t=this;this.plus?(this.cur=this.cur+this.step,this.cur>this.max&&(this.cur=this.max,this.plus=0)):(this.cur=this.cur-this.step,this.cur<this.min&&(this.cur=this.min,this.plus=1)),this.group.scale({x:this.cur,y:this.cur}),this.stage.add(this.layer),window.requestAnimationFrame(function(){t.animation()})}},{key:"initDataLayout",value:function(){}},{key:"calcDataPosition",value:function(){}},{key:"animationLine",value:function(){}},{key:"calcLayoutPosition",value:function(){}}]),e}();e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=c(i(2)),o=l(i(3)),r=c(i(5)),s=c(i(0)),h=c(i(1)),u=(l(i(4)),c(i(11)),c(i(12)));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return a.name="Gauge"+Date.now(),a.curRate=0,a.totalNum=0,a.totalNumStep=5,a.animationStep=40,a.roundRadiusPercent=.085,a.lineColor="#596ea7",a.circleLinePercent=.26,a.circlePercent=.28,a.circleLineRotation=0,a.circleLineRotationStep=4,a.arcLinePercent=.195,a.arcOutPercent=.19,a.arcInPercent=.1525,a.arcLabelLength=6,a.arcTextLength=20,a.arcAngle=280,a.part=22,a.arcTotal=1100,a.textOffset=0,a.arcOffset=90+(360-a.arcAngle)/2,a.arcOffsetPad=-5,a.partLabel=a.part/2,a.partAngle=a.arcAngle/a.part,a.partNum=a.arcTotal/a.part,a.textOffsetX=-1,a.textOffsetY=-8,a.textLineLength=6,a.textRectWidthPercent=.5,a.textRectHeightPercent=.11,a.textRoundPercent=.39,a.textRoundOffsetAngle=160,a.textRoundPlusAngle=110,a.textRoundMaxAngle=a.textRoundOffsetAngle+2*a.textRoundPlusAngle,a.roundStatusRaidus=30,a.textRoundAngle=[{angle:a.textRoundOffsetAngle,text:"低",point:{},min:0,max:100,radius:a.roundStatusRaidus,lineColor:a.lineColor},{angle:a.textRoundOffsetAngle+a.textRoundPlusAngle,text:"中",point:{},min:101,max:500,radius:a.roundStatusRaidus,lineColor:a.lineColor},{angle:a.textRoundOffsetAngle+2*a.textRoundPlusAngle,text:"高",point:{},min:501,max:Math.pow(10,10),radius:a.roundStatusRaidus,lineColor:a.lineColor}],a.init(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),n(e,[{key:"getAttackRateAngle",value:function(){return this.arcOffset+this.arcAngle*this.getAttackRatePercent()}},{key:"getAttackRatePercent",value:function(){var t=0,e=void 0;return this.curRate&&((e=this.curRate)>this.arcTotal&&(e=this.arcTotal),t=e/this.arcTotal),t}},{key:"getAttackText",value:function(){var t=this,e="低";return this.curRate&&this.textRoundAngle.map(function(i){t.curRate>=i.min&&t.curRate<=i.max&&(e=i.text)}),e+"频\n攻击"}},{key:"init",value:function(){var t=this;this.textRoundRadius=this.width*this.textRoundPercent,this.roundRadius=this.width*this.roundRadiusPercent,this.arcInRadius=this.width*this.arcInPercent,this.arcOutRadius=this.width*this.arcOutPercent,this.arcLineRaidus=Math.ceil(this.arcLinePercent*this.max),this.textWidth=this.textRectWidthPercent*this.width,this.textHeight=38,this.textX=this.cx-this.textWidth/2,this.textY=this.cy+this.arcLineRaidus+this.arcTextLength/2+2,this.textRoundAngle.map(function(e,i){var n=o.distanceAngleToPoint(t.textRoundRadius,e.angle);e.point=o.pointPlus(n,t.cpoint)}),this.arcPartLineAr=[],this.arcOutlinePartAr=[],this.textAr=[];for(var e=0;e<=this.part;e++){var i,n=void 0,a=void 0;if(i=e*this.partAngle+this.arcOffset,e&&e<this.part&&(n=o.distanceAngleToPoint(this.arcInRadius,i),a=o.distanceAngleToPoint(this.arcOutRadius,i),this.arcPartLineAr.push("M"),this.arcPartLineAr.push([n.x,n.y].join(",")),this.arcPartLineAr.push("L"),this.arcPartLineAr.push([a.x,a.y].join(","))),n=o.distanceAngleToPoint(this.arcLineRaidus,i),a=o.distanceAngleToPoint(this.arcLineRaidus+this.arcLabelLength,i),this.arcOutlinePartAr.push("M"),this.arcOutlinePartAr.push([n.x,n.y].join(",")),this.arcOutlinePartAr.push("L"),this.arcOutlinePartAr.push([a.x,a.y].join(",")),!(e*this.partNum%100)||0===e){var s=8;0===e&&(s=1),e>=19&&(s=14),e>=21&&(s=18);var h={text:e*this.partNum,angle:i-s,point:o.distanceAngleToPoint(this.arcLineRaidus+this.arcTextLength+0,i-s)};h.textPoint=new r.default(this.width,this.height,o.pointPlus(h.point,this.cpoint)),this.textAr.push(h)}}}},{key:"initRoundText",value:function(){var t=this;this.textRoundAngle.map(function(e){e.ins=new u.default(t.box,t.width,t.height),e.ins.setOptions(Object.assign(e,{stage:t.stage,layer:t.layoutLayer})),e.ins.init(),e.ins.update(t.curRate)})}},{key:"update",value:function(t,e){var i=this;this.stage.removeChildren(),t&&t.data&&t.data.length&&t.data.map(function(t){i.curRate=t.value,i.totalNum=t.total}),this.initDataLayout(),this.angle=this.arcOffset+this.arcOffsetPad,this.animationAngle=this.getAttackRateAngle()+this.arcOffsetPad,this.curRate&&(this.rateStep=Math.floor(this.curRate/(2*this.animationStep)),this.animation()),this.totalNum&&(this.totalNumStep=Math.floor(this.totalNum/this.animationStep),this.totalNumCount=0,this.animationText()),this.animationCircleLine()}},{key:"animationCircleLine",value:function(){var t=this;this.isDestroy||this.circleLine&&(this.circleLineRotation+=this.circleLineRotationStep,this.circleLine.rotation(this.circleLineRotation),this.stage.add(this.layoutLayer),window.requestAnimationFrame(function(){t.animationCircleLine()}))}},{key:"drawText",value:function(){var t={text:"0",x:this.cx,y:this.textY,fontSize:26,fontFamily:"HuXiaoBoKuHei",fill:"#ffffff",fontStyle:"italic"},e=h.default.clone(t);e.text=this.totalNum,this.totalText=new s.default.Text(t),this.totalText.x(this.cx-this.totalText.textWidth/2),this.totalText.y(this.textY+5),this.tmpTotalText=new s.default.Text(e)}},{key:"drawTextRect",value:function(){var t=this.tmpTotalText.textWidth+30,e=0;t<170&&(t=170),e=this.cx-t/2+2,this.textRect=new s.default.Rect({fill:"#596ea7",stroke:"#ffffff00",strokeWidth:0,opacity:.3,width:t,height:this.textHeight,x:e,y:this.textY});var i=[];i.push("M",[e,this.textY+this.textLineLength].join(",")),i.push("L",[e,this.textY].join(",")),i.push("L",[e+this.textLineLength,this.textY].join(",")),i.push("M",[e+t-this.textLineLength,this.textY].join(",")),i.push("L",[e+t,this.textY].join(",")),i.push("L",[e+t,this.textY+this.textLineLength].join(",")),i.push("M",[e+t,this.textY+this.textHeight-this.textLineLength].join(",")),i.push("L",[e+t,this.textY+this.textHeight].join(",")),i.push("L",[e+t-this.textLineLength,this.textY+this.textHeight].join(",")),i.push("M",[e+this.textLineLength,this.textY+this.textHeight].join(",")),i.push("L",[e,this.textY+this.textHeight].join(",")),i.push("L",[e,this.textY+this.textHeight-this.textLineLength].join(",")),this.textLinePath=new s.default.Path({data:i.join(""),stroke:this.lineColor,strokeWidth:1}),this.layoutLayer.add(this.textLinePath),this.layoutLayer.add(this.textRect),this.layoutLayer.add(this.totalText)}},{key:"drawArcText",value:function(){var t=this;this.textAr&&this.textAr.length&&this.textAr.map(function(e){var i=new s.default.Text({x:e.point.x+t.cx,y:e.point.y+t.cy,text:e.text+"",fontSize:11,fontFamily:"MicrosoftYaHei",fill:t.lineColor});i.rotation(e.angle+90),t.layoutLayer.add(i)})}},{key:"drawArcLine",value:function(){var t=[];t.push("M");for(var e=this.arcOffset;e<=this.arcOffset+this.arcAngle;e+=.5){var i=o.distanceAngleToPoint(this.arcLineRaidus,e);t.push([i.x,i.y].join(",")+","),90==e&&t.push("L")}this.arcLine=new s.default.Path({data:t.join(""),x:this.cx,y:this.cy,stroke:this.lineColor,strokeWidth:1,fill:"#ffffff00"}),this.arcPartLine=new s.default.Path({data:this.arcPartLineAr.join(""),x:this.cx,y:this.cy,stroke:"#00000088",strokeWidth:1,fill:"#ffffff00"}),this.arcOutlinePart=new s.default.Path({data:this.arcOutlinePartAr.join(""),x:this.cx,y:this.cy,stroke:this.lineColor,strokeWidth:1,fill:"#ffffff00"}),this.layoutLayer.add(this.arcLine),this.layoutLayer.add(this.arcPartLine),this.layoutLayer.add(this.arcOutlinePart)}},{key:"drawArc",value:function(){var t={x:this.cx,y:this.cy,innerRadius:this.arcInRadius,outerRadius:this.arcOutRadius,angle:this.arcAngle,stroke:"#ffffff00",strokeWidth:0,rotation:this.arcOffset,fillLinearGradientStartPoint:{x:-50,y:-50},fillLinearGradientEndPoint:{x:50,y:50},fillLinearGradientColorStops:[0,"#ff9000",.5,"#64b185",1,"#5a78ca"]};this.arc=new s.default.Arc(t),this.layoutLayer.add(this.arc)}},{key:"initDataLayout",value:function(){this.layer=new s.default.Layer,this.layoutLayer=new s.default.Layer,this.roundLine=new s.default.Circle({x:this.cx,y:this.cy,radius:this.roundRadius,stroke:this.lineColor,strokeWidth:2.5,fill:"rgba( 0, 0, 0, .5 )"}),this.percentText=new s.default.Text({x:this.cx,y:this.cy,text:this.getAttackText(),fontSize:18,fontFamily:"HuXiaoBoKuHei",fill:"#ffffff",fontStyle:"italic"}),this.percentText.x(this.cx-this.percentText.textWidth/2+this.textOffsetX),this.percentText.y(this.cy-this.percentText.textHeight/2+this.textOffsetY);var t=new s.default.Wedge({x:0,y:-3,radius:10,angle:20,fill:"#ff5a00",stroke:"#ff5a00",strokeWidth:1,rotation:90}),e=new s.default.Wedge({x:0,y:-3,radius:10,angle:20,fill:"#973500",stroke:"#973500",strokeWidth:1,rotation:65}),i=new s.default.Group({x:this.cx,y:this.cy});i.add(e),i.add(t),this.angle=this.arcOffset-2,this.group=i,this.layer.add(i),this.layer.add(this.roundLine),this.layer.add(this.percentText),this.drawCircle(),this.drawCircleLine(),this.drawArc(),this.drawArcLine(),this.drawArcText(),this.drawText(),this.drawTextRect(),this.initRoundText(),this.stage.add(this.layer),this.stage.add(this.layoutLayer)}},{key:"animation",value:function(){var t=this;if(!(this.isDestroy||this.angle>this.animationAngle)){this.angle+=this.rateStep,this.angle>=this.animationAngle&&(this.angle=this.animationAngle);var e=o.distanceAngleToPoint(this.roundRadius+6,this.angle);this.group.x(this.cx+e.x),this.group.y(this.cy+e.y),this.group.rotation(this.angle+90),this.group.rotation(this.angle+90),this.stage.add(this.layer),window.requestAnimationFrame(function(){t.animation()})}}},{key:"animationText",value:function(){var t=this;this.isDestroy||this.totalNumCount>=this.totalNum||(this.totalNumCount+=this.totalNumStep,this.totalNumCount>=this.totalNum&&(this.totalNumCount=this.totalNum),this.totalText.text(this.totalNumCount),this.totalText.x(this.cx-this.totalText.textWidth/2),this.stage.add(this.layoutLayer),window.requestAnimationFrame(function(){t.animationText()}))}},{key:"calcDataPosition",value:function(){}},{key:"animationLine",value:function(){}},{key:"addIcon",value:function(t,e){}},{key:"addText",value:function(t,e){}},{key:"calcLayoutPosition",value:function(){}},{key:"drawCircle",value:function(){this.circleRadius=Math.ceil(this.circlePercent*this.max/2),this.circle=new s.default.Circle({x:this.cx,y:this.cy,radius:this.circleRadius,stroke:this.lineColor,strokeWidth:1,fill:"#ffffff00"}),this.layoutLayer.add(this.circle)}},{key:"drawCircleLine",value:function(){this.circleLineRadius=Math.ceil(this.circleLinePercent*this.max/2);var t=[];t.push("M");for(var e=90;e<=180;e++){var i=o.distanceAngleToPoint(this.circleLineRadius,e+90);t.push([i.x,i.y].join(",")+","),90==e&&t.push("L")}t.push("M");for(var n=270;n<=360;n++){var a=o.distanceAngleToPoint(this.circleLineRadius,n+90);t.push([a.x,a.y].join(",")+","),270==n&&t.push("L")}this.circleLine=new s.default.Path({data:t.join(""),x:this.cx,y:this.cy,stroke:this.lineColor,strokeWidth:1.5,fill:"#ffffff00"}),this.layoutLayer.add(this.circleLine)}},{key:"reset",value:function(){}},{key:"destroy",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,i);if(void 0===a){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.textRoundAngle.map(function(t){t.ins&&t.ins.destroy()})}}]),e}();e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=s(i(2)),o=(r(i(3)),s(i(0)));s(i(1)),r(i(4));function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return a.name="IconRound "+Date.now(),a.outRadius=6,a.inRadius=2,a.color="#ffffff",a.max=1.1,a.min=.8,a.step=.006,a.cur=1,a.isplus=1,a.init(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),n(e,[{key:"init",value:function(){return this}},{key:"update",value:function(t){this.point=t,this.group=new o.default.Group({x:this.point.x+this.cx,y:this.point.y+this.cy,width:2*this.outRadius,height:2*this.outRadius}),this.circle=new o.default.Circle({radius:this.inRadius,fill:this.color,stroke:this.color,x:0,y:0}),this.outcircle=new o.default.Circle({radius:this.outRadius,fill:"#ffffff00",stroke:this.color,strokeWidth:1,x:0,y:0}),this.group.add(this.circle),this.group.add(this.outcircle),this.group.scale({x:this.cur,y:this.cur}),this.layer.add(this.group)}},{key:"reset",value:function(){}},{key:"animation",value:function(){var t=this;this.plus?(this.cur=this.cur+this.step,this.cur>this.max&&(this.cur=this.max,this.plus=0)):(this.cur=this.cur-this.step,this.cur<this.min&&(this.cur=this.min,this.plus=1)),this.group.scale({x:this.cur,y:this.cur}),this.stage.add(this.layer),window.requestAnimationFrame(function(){t.animation()})}},{key:"initDataLayout",value:function(){}},{key:"calcDataPosition",value:function(){}},{key:"animationLine",value:function(){}},{key:"calcLayoutPosition",value:function(){}}]),e}();e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=h(i(2)),o=s(i(3)),r=h(i(0));h(i(1)),s(i(4));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i,n));return a.name="RoundStateText "+Date.now(),a.radius=30,a.textOffsetX=-2,a.textOffsetY=-1,a.circleLineRotation=0,a.circleLineRotationStep=4,a.curColor="#deaf5c",a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),n(e,[{key:"animationCircleLine",value:function(){var t=this;this.isDestroy||this.circleLine&&(this.circleLineRotation+=this.circleLineRotationStep,this.circleLine.rotation(this.circleLineRotation),this.stage.add(this.layer),window.requestAnimationFrame(function(){t.animationCircleLine()}))}},{key:"init",value:function(){return this.circleRaidus=this.radius-5,this.initDataLayout(),this.animationCircleLine(),this}},{key:"update",value:function(t){this.rate=t;var e=this.lineColor;return t>=this.min&&t<this.max&&(e=this.curColor),this.text.fill(e),this.circle.stroke(e),this.circleLine.stroke(e),this}},{key:"initDataLayout",value:function(){this.drawText(),this.drawCircle(),this.drawCircleLine()}},{key:"drawText",value:function(){this.text=new r.default.Text({x:this.point.x,y:this.point.y,text:this.text,fontSize:32,fontFamily:"HuXiaoBoKuHei",fill:this.lineColor,fontStyle:"italic"}),this.text.x(this.point.x-this.text.textWidth/2+this.textOffsetX),this.text.y(this.point.y-this.text.textHeight/2+this.textOffsetY),this.layer.add(this.text)}},{key:"drawCircle",value:function(){this.circle=new r.default.Circle({x:this.point.x,y:this.point.y,radius:this.circleRaidus,stroke:this.lineColor,strokeWidth:2,fill:"#ffffff00"}),this.layer.add(this.circle)}},{key:"drawCircleLine",value:function(){this.circleLineRadius=this.radius-1;var t=[];t.push("M");for(var e=90;e<=180;e++){var i=o.distanceAngleToPoint(this.circleLineRadius,e+90);t.push([i.x,i.y].join(",")+","),90==e&&t.push("L")}t.push("M");for(var n=270;n<=360;n++){var a=o.distanceAngleToPoint(this.circleLineRadius,n+90);t.push([a.x,a.y].join(",")+","),270==n&&t.push("L")}this.circleLine=new r.default.Path({data:t.join(""),x:this.point.x,y:this.point.y,stroke:this.lineColor,strokeWidth:2,fill:"#ffffff00"}),this.layer.add(this.circleLine)}},{key:"reset",value:function(){}},{key:"calcDataPosition",value:function(){}},{key:"animationLine",value:function(){}},{key:"calcLayoutPosition",value:function(){}}]),e}();e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.CHART_TYPE={dount:"dount",gauge:"gauge"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false,n.configurable=true,"value"in n&&(n.writable=true),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=h(i(2)),o=(s(i(3)),h(i(0))),r=h(i(1));s(i(4));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return a.name="Legend "+Date.now(),a.textColor="#24a3ea",a.iconSpace=5,a.text=[],a.icon=[],a.group=[],a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),n(e,[{key:"setStage",value:function(t){(function t(e,i,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,i);if(void 0===a){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in a)return a.value;var r=a.get;return void 0!==r?r.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setStage",this).call(this,t),this.layer=new o.default.Layer({}),t.add(this.layer)}},{key:"init",value:function(){var t=this;return this.data.data.map(function(e,i){var n=0,a=0,s=Math.floor(i/t.column());switch(t.direction()){case"bottom":n=t.space()+(t.space()+t.columnWidth())*(i%t.column()),a=t.height-(t.row()-s)*(t.spaceY()+t.rowHeight())}var h=e.name||i+"",u=t.colors[i%t.colors.length];r.default.jsonInData(e,"textStyle.color")&&(u=e.textStyle.color);var l=new o.default.Rect({x:n,y:a,width:t.itemWidth(),height:t.itemHeight(),fill:u}),c=new o.default.Rect({x:n,y:a,width:t.columnWidth(),height:t.rowHeight(),fill:"#ffffff00"}),f=new o.default.Text({text:h,x:n+t.iconSpace+l.width(),y:a,fill:t.textColor,fontFamily:"MicrosoftYaHei",fontSize:12}),d=new o.default.Group;d.add(c),d.add(l),d.add(f);var y={ele:d,item:e,text:f,disabled:false};t.group.push(y),d.on("click",function(){y.disabled=!y.disabled,y.disabled?d.opacity(.6):d.opacity(1),t.stage.add(t.layer),t.onChange&&t.onChange(t.group)}),t.layer.add(d)}),this.stage.add(this.layer),this}},{key:"update",value:function(t){this.data=t||{},this.data&&this.data.data&&this.data.data.length&&this.init()}},{key:"outerHeight",value:function(){return this.rowHeight()*this.row()+this.space()}},{key:"total",value:function(){return 0}},{key:"itemWidth",value:function(){return this.data.itemWidth||5}},{key:"itemHeight",value:function(){return this.data.itemHeight||5}},{key:"columnWidth",value:function(){return(this.width-(this.column()-1+2)*this.space())/this.column()}},{key:"column",value:function(){return this.data.column||1}},{key:"space",value:function(){return this.data.space||15}},{key:"spaceY",value:function(){return this.data.space||0}},{key:"rowHeight",value:function(){return this.data.rowHeight||22}},{key:"row",value:function(){return Math.ceil(this.data.data.length/this.column())}},{key:"direction",value:function(){var t="top";return this.data.bottom?t="bottom":this.data.left?t="left":this.data.right&&(t="right"),t}}]),e}();e.default=u},,,,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(6),a=i.n(n),o=i(7);new(i.n(o).a)("HuXiaoBoKuHei").load().then(function(){let t=i(25);new a.a(document.querySelector("#twoBox"),410,330).update(t),setTimeout(()=>{},5e3)},function(){})},function(t){t.exports={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",bottom:"16px",right:"8%",itemWidth:10,itemHeight:10,borderRadius:4,column:3,data:[{name:"DNS访问",textStyle:{color:"#1987fa",fontWeight:"150"}},{name:"读",textStyle:{color:"#1987fa",fontWeight:"150"}},{name:"TCP外连接",textStyle:{color:"#1987fa",fontWeight:"150"}},{name:"写",textStyle:{color:"#1987fa",fontWeight:"150"}},{name:"删除",textStyle:{color:"#1987fa",fontWeight:"150"}},{name:"其他",textStyle:{color:"#1987fa",fontWeight:"150"}}]},series:[{name:"安全事件类型分布",type:"dount",radius:["35%","60%"],center:["30%","50%"],legendHoverLink:false,hoverAnimation:false,avoidLabelOverlap:false,startAngle:0,minAngle:10,labelLine:{show:true},label:{show:true,fontSize:16,position:"outside",formatter:"{d}%"},data:[{name:"DNS访问",value:15e4,itemStyle:{color:"#f12575"}},{name:"读",value:11611,itemStyle:{color:"#da432e"}},{name:"TCP外连接",value:15148,itemStyle:{color:"#f3a42d"}},{name:"写",value:10576,itemStyle:{color:"#19af89"}},{name:"删除",value:9018,itemStyle:{color:"#24a3ea"}},{name:"其他",value:9658,itemStyle:{color:"#b56be8"}}],background:[{url:"./img/dount-in.png",width:120,height:120,offsetX:0,offsetY:1},{url:"./img/dount-big.png",width:250,height:248,offsetX:0,offsetY:1,rotation:1}],z:1}]}}],[[24,1,0]]]);
//# sourceMappingURL=dount.js.map